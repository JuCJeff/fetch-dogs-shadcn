import{D as ye,a as Ie,b as Te,L as te,r as l,F as je,j as s,R as A,c as we}from"./index-DnDeVZkc.js";import{u as Ae,b as L,S as q,P as O,a as B}from"./useAuth-BEk2ywCw.js";class X extends Error{constructor(t,n){super(t),Object.defineProperty(this,"statusCode",{enumerable:!0,configurable:!0,writable:!0,value:n}),this.name="ApiError"}}const P=async(e,t={})=>{try{const n=await fetch(e,t);if(!n.ok)throw new X(`API request failed: ${n.statusText}`,n.status);return n.json()}catch(n){throw n instanceof X?n:n instanceof Error?new Error(`Network or other error: ${n.message}`):new Error("An unknown error occurred")}},Re=async()=>await P(Te,{method:"GET",credentials:"include"}),Ee=async({size:e=25,from:t=0,breeds:n=[],zipCodes:o=[],sort:a="breed:asc"})=>{const i=new URLSearchParams({size:e.toString(),from:t.toString(),sort:a});n.length!==0&&i.append("breeds",n.join(",")),o.length!==0&&o.forEach(c=>i.append("zipCodes",c));const u=`${ye}?${i.toString()}`;try{const{resultIds:c,total:d}=await P(u,{method:"GET",credentials:"include"});return{dogs:c.length>0?await Oe(c):[],total:d}}catch(c){return console.error("Error fetching dogs:",c),{dogs:[],total:0}}},Oe=async e=>await P(Ie,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}),Fe=async(e,t)=>{const o={city:e,states:[t]};try{const{results:a}=await P(te,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o),credentials:"include"});if(a.length===0)throw new Error("City not found");return{latitude:a[0].latitude,longitude:a[0].longitude}}catch(a){throw console.error("Error fetching city coordinates:",a),new Error("Unable to fetch city coordinates. Please try again")}},Me=(e,t,n)=>{const a=n/3959*(180/Math.PI),i=n/(3959*Math.cos(Math.PI*e/180))*(180/Math.PI);return{bottom_left:{lat:e-a,lon:t-i},top_right:{lat:e+a,lon:t+i}}},_e=async(e,t,n)=>{const o=[];let a=0;const i=25;try{const u=Me(e,t,n);for(;;){const{results:c}=await P(te,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({geoBoundingBox:u,from:a,size:i}),credentials:"include"});if(!c.length)break;o.push(...c.map(d=>d.zip_code)),a+=i}return o}catch(u){throw console.error("Error fetching ZIP codes:",u),new Error("Unable to fetch ZIP codes. Please try again")}},Pe=async({city:e="",states:t=[],radius:n=25})=>{if(!e||t.length===0||isNaN(n)||n<=0)return console.warn("Invalid input for fetching zip codes."),[];try{const{latitude:o,longitude:a}=await Fe(e,t[0]);if(!o||!a)return console.warn("City coordinates not found."),[];const i=await _e(o,a,n);return i.length===0&&console.warn("No zip codes found for the given city and radius."),i}catch(o){return console.error("Fetch Location failed:",o),[]}},De=()=>{const e=l.useContext(je);if(!e)throw new Error("useFavorites must be used within a FavoritesProvider");return e},Le=()=>{const{logout:e}=Ae(),t=async()=>{try{await e()}catch(n){console.error("Logout failed:",n)}};return s.jsx("button",{onClick:t,children:"Logout"})};function j(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function V(e,t=[]){let n=[];function o(i,u){const c=l.createContext(u),d=n.length;n=[...n,u];const r=m=>{var v;const{scope:h,children:g,...f}=m,x=((v=h==null?void 0:h[e])==null?void 0:v[d])||c,S=l.useMemo(()=>f,Object.values(f));return s.jsx(x.Provider,{value:S,children:g})};r.displayName=i+"Provider";function p(m,h){var x;const g=((x=h==null?void 0:h[e])==null?void 0:x[d])||c,f=l.useContext(g);if(f)return f;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[r,p]}const a=()=>{const i=n.map(u=>l.createContext(u));return function(c){const d=(c==null?void 0:c[e])||i;return l.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[o,Be(a,...t)]}function Be(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const u=o.reduce((c,{useScope:d,scopeName:r})=>{const m=d(i)[`__scope${r}`];return{...c,...m}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function ke(e){const t=e+"CollectionProvider",[n,o]=V(t),[a,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=g=>{const{scope:f,children:x}=g,S=A.useRef(null),v=A.useRef(new Map).current;return s.jsx(a,{scope:f,itemMap:v,collectionRef:S,children:x})};u.displayName=t;const c=e+"CollectionSlot",d=A.forwardRef((g,f)=>{const{scope:x,children:S}=g,v=i(c,x),b=L(f,v.collectionRef);return s.jsx(q,{ref:b,children:S})});d.displayName=c;const r=e+"CollectionItemSlot",p="data-radix-collection-item",m=A.forwardRef((g,f)=>{const{scope:x,children:S,...v}=g,b=A.useRef(null),T=L(f,b),y=i(r,x);return A.useEffect(()=>(y.itemMap.set(b,{ref:b,...v}),()=>void y.itemMap.delete(b))),s.jsx(q,{[p]:"",ref:T,children:S})});m.displayName=r;function h(g){const f=i(e+"CollectionConsumer",g);return A.useCallback(()=>{const S=f.collectionRef.current;if(!S)return[];const v=Array.from(S.querySelectorAll(`[${p}]`));return Array.from(f.itemMap.values()).sort((y,w)=>v.indexOf(y.ref.current)-v.indexOf(w.ref.current))},[f.collectionRef,f.itemMap])}return[{Provider:u,Slot:d,ItemSlot:m},h,o]}var K=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},Ue=we.useId||(()=>{}),$e=0;function ne(e){const[t,n]=l.useState(Ue());return K(()=>{n(o=>o??String($e++))},[e]),e||(t?`radix-${t}`:"")}function Z(e){const t=l.useRef(e);return l.useEffect(()=>{t.current=e}),l.useMemo(()=>(...n)=>{var o;return(o=t.current)==null?void 0:o.call(t,...n)},[])}function oe({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,a]=Ge({defaultProp:t,onChange:n}),i=e!==void 0,u=i?e:o,c=Z(n),d=l.useCallback(r=>{if(i){const m=typeof r=="function"?r(e):r;m!==e&&c(m)}else a(r)},[i,e,a,c]);return[u,d]}function Ge({defaultProp:e,onChange:t}){const n=l.useState(e),[o]=n,a=l.useRef(o),i=Z(t);return l.useEffect(()=>{a.current!==o&&(i(o),a.current=o)},[o,a,i]),n}var Ke=l.createContext(void 0);function se(e){const t=l.useContext(Ke);return e||t||"ltr"}var G="rovingFocusGroup.onEntryFocus",ze={bubbles:!1,cancelable:!0},k="RovingFocusGroup",[z,re,Ve]=ke(k),[Ze,ae]=V(k,[Ve]),[We,Ye]=Ze(k),ie=l.forwardRef((e,t)=>s.jsx(z.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(z.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Je,{...e,ref:t})})}));ie.displayName=k;var Je=l.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:a=!1,dir:i,currentTabStopId:u,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:r,preventScrollOnEntryFocus:p=!1,...m}=e,h=l.useRef(null),g=L(t,h),f=se(i),[x=null,S]=oe({prop:u,defaultProp:c,onChange:d}),[v,b]=l.useState(!1),T=Z(r),y=re(n),w=l.useRef(!1),[F,M]=l.useState(0);return l.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(G,T),()=>C.removeEventListener(G,T)},[T]),s.jsx(We,{scope:n,orientation:o,dir:f,loop:a,currentTabStopId:x,onItemFocus:l.useCallback(C=>S(C),[S]),onItemShiftTab:l.useCallback(()=>b(!0),[]),onFocusableItemAdd:l.useCallback(()=>M(C=>C+1),[]),onFocusableItemRemove:l.useCallback(()=>M(C=>C-1),[]),children:s.jsx(O.div,{tabIndex:v||F===0?-1:0,"data-orientation":o,...m,ref:g,style:{outline:"none",...e.style},onMouseDown:j(e.onMouseDown,()=>{w.current=!0}),onFocus:j(e.onFocus,C=>{const R=!w.current;if(C.target===C.currentTarget&&R&&!v){const _=new CustomEvent(G,ze);if(C.currentTarget.dispatchEvent(_),!_.defaultPrevented){const E=y().filter(N=>N.focusable),U=E.find(N=>N.active),$=E.find(N=>N.id===x),I=[U,$,...E].filter(Boolean).map(N=>N.ref.current);ue(I,p)}}w.current=!1}),onBlur:j(e.onBlur,()=>b(!1))})})}),ce="RovingFocusGroupItem",le=l.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:a=!1,tabStopId:i,...u}=e,c=ne(),d=i||c,r=Ye(ce,n),p=r.currentTabStopId===d,m=re(n),{onFocusableItemAdd:h,onFocusableItemRemove:g}=r;return l.useEffect(()=>{if(o)return h(),()=>g()},[o,h,g]),s.jsx(z.ItemSlot,{scope:n,id:d,focusable:o,active:a,children:s.jsx(O.span,{tabIndex:p?0:-1,"data-orientation":r.orientation,...u,ref:t,onMouseDown:j(e.onMouseDown,f=>{o?r.onItemFocus(d):f.preventDefault()}),onFocus:j(e.onFocus,()=>r.onItemFocus(d)),onKeyDown:j(e.onKeyDown,f=>{if(f.key==="Tab"&&f.shiftKey){r.onItemShiftTab();return}if(f.target!==f.currentTarget)return;const x=He(f,r.orientation,r.dir);if(x!==void 0){if(f.metaKey||f.ctrlKey||f.altKey||f.shiftKey)return;f.preventDefault();let v=m().filter(b=>b.focusable).map(b=>b.ref.current);if(x==="last")v.reverse();else if(x==="prev"||x==="next"){x==="prev"&&v.reverse();const b=v.indexOf(f.currentTarget);v=r.loop?Qe(v,b+1):v.slice(b+1)}setTimeout(()=>ue(v))}})})})});le.displayName=ce;var qe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Xe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function He(e,t,n){const o=Xe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return qe[o]}function ue(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function Qe(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var et=ie,tt=le;function nt(e,t){return l.useReducer((n,o)=>t[n][o]??n,e)}var de=e=>{const{present:t,children:n}=e,o=ot(t),a=typeof n=="function"?n({present:o.isPresent}):l.Children.only(n),i=L(o.ref,st(a));return typeof n=="function"||o.isPresent?l.cloneElement(a,{ref:i}):null};de.displayName="Presence";function ot(e){const[t,n]=l.useState(),o=l.useRef({}),a=l.useRef(e),i=l.useRef("none"),u=e?"mounted":"unmounted",[c,d]=nt(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const r=D(o.current);i.current=c==="mounted"?r:"none"},[c]),K(()=>{const r=o.current,p=a.current;if(p!==e){const h=i.current,g=D(r);e?d("MOUNT"):g==="none"||(r==null?void 0:r.display)==="none"?d("UNMOUNT"):d(p&&h!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),K(()=>{if(t){let r;const p=t.ownerDocument.defaultView??window,m=g=>{const x=D(o.current).includes(g.animationName);if(g.target===t&&x&&(d("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",r=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},h=g=>{g.target===t&&(i.current=D(o.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(r),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:l.useCallback(r=>{r&&(o.current=getComputedStyle(r)),n(r)},[])}}function D(e){return(e==null?void 0:e.animationName)||"none"}function st(e){var o,a;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var W="Tabs",[rt,jt]=V(W,[ae]),fe=ae(),[at,Y]=rt(W),me=l.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,onValueChange:a,defaultValue:i,orientation:u="horizontal",dir:c,activationMode:d="automatic",...r}=e,p=se(c),[m,h]=oe({prop:o,onChange:a,defaultProp:i});return s.jsx(at,{scope:n,baseId:ne(),value:m,onValueChange:h,orientation:u,dir:p,activationMode:d,children:s.jsx(O.div,{dir:p,"data-orientation":u,...r,ref:t})})});me.displayName=W;var pe="TabsList",he=l.forwardRef((e,t)=>{const{__scopeTabs:n,loop:o=!0,...a}=e,i=Y(pe,n),u=fe(n);return s.jsx(et,{asChild:!0,...u,orientation:i.orientation,dir:i.dir,loop:o,children:s.jsx(O.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});he.displayName=pe;var ge="TabsTrigger",ve=l.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,disabled:a=!1,...i}=e,u=Y(ge,n),c=fe(n),d=Se(u.baseId,o),r=Ce(u.baseId,o),p=o===u.value;return s.jsx(tt,{asChild:!0,...c,focusable:!a,active:p,children:s.jsx(O.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":r,"data-state":p?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:t,onMouseDown:j(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?u.onValueChange(o):m.preventDefault()}),onKeyDown:j(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&u.onValueChange(o)}),onFocus:j(e.onFocus,()=>{const m=u.activationMode!=="manual";!p&&!a&&m&&u.onValueChange(o)})})})});ve.displayName=ge;var xe="TabsContent",be=l.forwardRef((e,t)=>{const{__scopeTabs:n,value:o,forceMount:a,children:i,...u}=e,c=Y(xe,n),d=Se(c.baseId,o),r=Ce(c.baseId,o),p=o===c.value,m=l.useRef(p);return l.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(de,{present:a||p,children:({present:h})=>s.jsx(O.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!h,id:r,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});be.displayName=xe;function Se(e,t){return`${e}-trigger-${t}`}function Ce(e,t){return`${e}-content-${t}`}var it=me,ct=he,lt=ve,ut=be;function dt({className:e,...t}){return s.jsx(it,{"data-slot":"tabs",className:B("flex flex-col gap-2",e),...t})}function ft({className:e,...t}){return s.jsx(ct,{"data-slot":"tabs-list",className:B("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-1",e),...t})}function H({className:e,...t}){return s.jsx(lt,{"data-slot":"tabs-trigger",className:B("data-[state=active]:bg-background data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring inline-flex items-center justify-center gap-2 rounded-md px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Q({className:e,...t}){return s.jsx(ut,{"data-slot":"tabs-content",className:B("flex-1 outline-none",e),...t})}const mt=({selectedBreed:e,onBreedSelect:t})=>{const[n,o]=l.useState([]);l.useEffect(()=>{(async()=>{const u=await Re();o(u)})()},[]);const a=i=>{const u=i.target.value===""?"":i.target.value;t(u?[u]:[])};return s.jsxs("div",{className:"breed-filter",children:[s.jsx("label",{htmlFor:"breed-select",children:"Breed filter "}),s.jsxs("select",{id:"breed-select",value:e,onChange:a,children:[s.jsx("option",{value:"",children:"All Breeds"},"all-breeds"),n.map(i=>s.jsx("option",{value:i,children:i},i))]})]})},pt=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],ht=[5,10,25,50,100],gt=({city:e,setCity:t,state:n,setState:o,radius:a,setRadius:i,onFilter:u})=>s.jsxs("div",{className:"location-filters",children:[s.jsxs("span",{className:"city-container",children:[s.jsx("label",{htmlFor:"city",children:"City"}),s.jsx("input",{id:"city",type:"string",value:e,onChange:c=>t(c.target.value)})]}),s.jsx("span",{children:s.jsxs("select",{id:"state-select",value:n,onChange:c=>o(c.target.value),children:[s.jsx("option",{value:"",children:"Select State"},"all-states"),pt.map(c=>s.jsx("option",{value:c,children:c},c))]})}),s.jsx("span",{children:s.jsxs("select",{id:"radius-select",value:a,onChange:c=>i(c.target.value||void 0),children:[s.jsx("option",{value:"",children:"Radius"},"all-radius"),ht.map(c=>s.jsxs("option",{value:c,children:[c," miles"]},c))]})}),s.jsx("button",{onClick:u,children:"Apply Location Filter"})]}),vt=[{param:"breed:asc",name:"Breed A-Z"},{param:"breed:desc",name:"Breed Z-A"},{param:"name:asc",name:"Name A-Z"},{param:"name:desc",name:"Name Z-A"},{param:"age:asc",name:"Youngest to Oldest"},{param:"age:desc",name:"Oldest to Youngest"}],xt=({selectedSortOption:e,onSortOptionChange:t})=>s.jsxs("div",{className:"sort-options-container",children:[s.jsx("label",{htmlFor:"sort-options",children:"Sort Options "}),s.jsx("select",{id:"sort-options",value:e,onChange:n=>t(n.target.value),children:vt.map(({param:n,name:o})=>s.jsx("option",{value:n,children:o},n))})]}),bt=({selectedBreeds:e,onBreedSelect:t,selectedSortOption:n,onSortOptionChange:o,city:a,setCity:i,state:u,setState:c,radius:d,setRadius:r,onApplyFilter:p})=>s.jsxs("div",{children:[s.jsxs("div",{className:"search-options",children:[s.jsx(mt,{selectedBreed:e,onBreedSelect:t}),s.jsx(xt,{selectedSortOption:n,onSortOptionChange:o}),s.jsx(gt,{city:a,setCity:i,state:u,setState:c,radius:d,setRadius:r,onFilter:p})]}),s.jsx("button",{onClick:()=>{t([]),o("breed:asc"),i(""),c(""),r(void 0),p(!0)},children:"Reset Filters"})]}),St=({dog:e,onFavoriteClick:t,isFavorite:n})=>s.jsxs("div",{className:"dog-card",children:[s.jsx("img",{src:e.img,alt:e.name,className:"dog-image"}),s.jsxs("div",{className:"dog-info",children:[s.jsx("h2",{children:e.name}),s.jsxs("p",{children:[s.jsx("strong",{children:"Breed:"})," ",e.breed]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Age:"})," ",e.age," years"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Location:"})," ZIP ",e.zip_code]}),s.jsx("button",{className:`favorite-btn ${n?"favorited":""}`,onClick:()=>t?t(e.id):{},children:n?"★ Favorited":"☆ Favorite"})]})]}),Ct=({currentPage:e,totalPages:t,onPageChange:n})=>{const o=[1,2,3].filter(r=>r<=t),a=[t-2,t-1,t].filter(r=>r>3),i=3;let u=Math.max(4,e-Math.floor(i/2));const c=Math.min(t-3,u+i-1);c-u<i-1&&(u=Math.max(4,c-i+1));const d=[];for(let r=u;r<=c;r++)d.push(r);return s.jsxs("div",{className:"pagination-container",children:[s.jsx("button",{onClick:()=>n(e-1),disabled:e===1,className:"pagination-button previous","aria-label":"Previous page",children:"Previous"}),o.map(r=>s.jsx("button",{onClick:()=>n(r),className:`pagination-button ${r===e?"active":""}`,"aria-current":r===e?"page":void 0,children:r},r)),u>4&&s.jsx("span",{className:"ellipsis",children:"..."}),d.map(r=>s.jsx("button",{onClick:()=>n(r),className:`pagination-button ${r===e?"active":""}`,"aria-current":r===e?"page":void 0,children:r},r)),c<t-3&&s.jsx("span",{className:"ellipsis",children:"..."}),a.map(r=>s.jsx("button",{onClick:()=>n(r),className:`pagination-button ${r===e?"active":""}`,"aria-current":r===e?"page":void 0,children:r},r)),s.jsx("button",{onClick:()=>n(e+1),disabled:e===t,className:"pagination-button next","aria-label":"Next page",children:"Next"})]})},ee=25,Nt=()=>{const[e,t]=l.useState([]),[n,o]=l.useState([]),[a,i]=l.useState("breed:asc"),[u,c]=l.useState(1),[d,r]=l.useState(0),[p,m]=l.useState(""),[h,g]=l.useState(void 0),[f,x]=l.useState(void 0),[S,v]=l.useState(void 0),[b,T]=l.useState(void 0),[y,w]=l.useState(void 0),[F,M]=l.useState([]),[C,R]=l.useState(!0),[_,E]=l.useState(null),{favorites:U,toggleFavorite:$}=De();l.useEffect(()=>{if(!S&&!b&&!y)return;const I=async()=>{try{const N=await Pe({city:S??"",states:b?[b]:[],radius:Number(y)});M(N)}catch(N){E(`Failed to load zip codes: ${N}`)}finally{R(!1)}};R(!0),I()},[S,b,y]),l.useEffect(()=>{(async()=>{t([]),R(!0);try{const{dogs:N,total:Ne}=await Ee({from:(u-1)*ee,breeds:n||void 0,sort:a,zipCodes:F.length!==0?F:void 0});t(N),r(Ne)}catch(N){E(`Failed to load dogs: ${N}`)}finally{R(!1)}})()},[u,n,a,F]);const J=I=>{I===!0?(v(void 0),T(void 0),w(void 0),M([])):(v(p),T(h),w(f)),c(1)};return C?s.jsx("p",{children:"Loading..."}):_?s.jsx("p",{children:_}):s.jsxs(s.Fragment,{children:[s.jsx(bt,{selectedBreeds:n,onBreedSelect:o,selectedSortOption:a,onSortOptionChange:i,city:p,setCity:m,state:h,setState:g,radius:f,setRadius:x,onApplyFilter:J}),s.jsx(Ct,{currentPage:u,totalPages:Math.ceil(d/ee),onPageChange:c}),s.jsx("div",{className:"dog-list",children:e.map(I=>s.jsx(St,{dog:I,isFavorite:U.has(I.id),onFavoriteClick:$},I.id))})]})},yt=()=>s.jsxs(dt,{defaultValue:"all-dogs",className:"py-4 w-full flex items-center md:w-[400px]",children:[s.jsxs(ft,{children:[s.jsx(H,{value:"all-dogs",children:"All Dogs 🐕"}),s.jsx(H,{value:"favorite-dogs",children:"Favorite Dogs ❤️"})]}),s.jsx(Q,{value:"all-dogs",children:s.jsx(Nt,{})}),s.jsx(Q,{value:"favorite-dogs",children:"Favorite Dogs"})]});function wt(){return s.jsx("div",{children:s.jsxs("div",{className:"flex flex-col sticky top-0 py-8 w-full",children:[s.jsx("h1",{children:"Search Page"}),s.jsx(yt,{}),s.jsx("div",{children:s.jsx(Le,{})})]})})}export{wt as default};
